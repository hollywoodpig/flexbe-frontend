# Flexbe Frontend

* Остерегаться ES5 синтаксиса
* Придерживаться [AirBNB Styleguide](https://github.com/leonidlebedev/javascript-airbnb)
* Самодокументарующийся код и документация

+ Теория и практика отдельно
+ Качество и внимание к деталям
+ Вкус и чувство стиля

## Задания

#### Задание 1.

Предложите вариант базового класса для успешной работы следующего кода.
> Подсказка: значение `a` и `b`, переданные в метод `test` должны быть умножены на -1.
> Хорошо, если сможете привести аргументы, почему этот код плохой.

```
// Реализуйте класс
class BaseClass {
  // ... ваш код
}

/* Код ниже не трогаем */
class MyClass extends BaseClass {
  test(a, b) {
    this.a = a;
    this.b = b;
    
    return 100 - this.a + this.b;
  }
}

const m = new MyClass();

console.log(m.test(50, 40) === 110); // true
console.log(m.test(10,90) === 20); // true
```

#### Задание 2.

Дан массив целых чисел `input`. Необходимо написать функцию, которая преобразует массив `input` так, чтобы он удовлетворял следующим условиям:
* вначале числа кратные двум, от наибольшего к наименьшему;
* затем оставшиеся числа от наименьшего к наибольшему.
Задача имеет целый ряд решений, большим плюсом будет показать несколько решений, но выбрать то которое кажется наиболее красивым/быстрым на ваш взгляд.

```
const input = [-2, 2, 4, 6, 8, 10, 3, 5, 7, 9, -1, -11];
console.log(func(input)); // [10, 8, 6, 4, 2, -2, -11, -1, 3, 5, 7, 9]
```

#### Задание 3.

Имеется строка `str` с произвольным текстом. Необходимо без использования циклов (for, while, do) и объявления дополнительных переменных посчитать количество символов в строке, у которых ASCII код, кратный 3.
> Напишите по возможности более компактный код.

```
const str = 'Flexbe. Frontend. Test. 1234567890.';

const func = str => {
  // ... ваш код
}

console.log(func(str)); // 9
```

#### Задание 4.

Что можно улучшить? **Максимально** упростите код (сократите или удалите ненужные операции), сохранив его логику. **Важна логика, а не визуальное отображение звезд**.

```
function drawRating(vote) {
  if (vote >= 0 && vote <= 20) {
    return '★☆☆☆☆';
  }
  else if (vote > 20 && vote <= 40) {
    return '★★☆☆☆';
  }
  else if (vote > 40 && vote <= 60) {
    return '★★★☆☆';
  }
  else if (vote > 60 && vote <= 80) {
    return '★★★★☆';
  }
  else if (vote > 80 && vote <= 100) {
    return '★★★★★';
  }
}
```

#### Задание 5/

Задачка посложнее, на асинхронность. Имеется объект фиксированной структуры, хранящий значения по некоторым ID в разных форматах, а также сервис, отдающий данные по каждому ID.
> Функция `mainFn` должна загрузить данные по каждому ID в объекте и запустить `resultFn` с готовым объектом данных.
> Хорошо, если вы продумаете как поддерживать данный код, если структура объекта на входе начнёт меняться (например добавится поле `single2`)
> Разрешено создавать новые функции. Запрещено импортировать код сторонних библиотек.
Код исполняется в Среде Node.js версии > 12.9.3

```
/**
 * Mock функция, представьте что это кривой старый promissless сторонний сервис, возращающий записи из БД,
 * Доступа к исходному коду этого сервиса у вас нет и исправить его нельзя.
 * ДАННЫЕ, КОТОРЫЕ ВОЗВРАЩАЕТ ЭТОТ МЕТОД, ВАМ НЕ ИЗВЕСТНЫ
 * НЕ МЕНЯЙТЕ ДАННЫЙ МЕТОД
 * 
 * @param id {Number} - ID записи
 * @param callback {Function<Error, Object>} - Коллбек функция, возвращающая результирующие данные
*/
const getData = (id, callback = () => {}) => {
  if (!id) {
    return callback(new Error('getData: ID not specified'));
  }
  
  setTimeout(() => {
    const data= {
      utime: Date.now()
    };
    callback(null, data);
  }, Math.random() * 1000);
};

/**
 * Ваша функция
 * Перепишите данный метод так,
 * чтобы в результате выполнения функции в resultFn пришли данные по каждому ID в требуемом формате
 * @param data {Object} - Исходный объект
 * @result {Promise<Object>} - Полный объект с данными от сервера
*/
const mainFn = data => {
  // ... ваш код
  
  return Promise.resolve(...);
};

// Вызов вашей   функции, должен вызвать resultFn в итоге
mainFn({
  id: 78,
  title: 'Some title',
  single: 12345,
  multiple: [56783, 46573, 13251]
}).then(result => {
  console.log(result);
  /**
    {
      id: 78,
      title: 'Some title',
      single: { id: 12345, data: { utime: ... }},
      multiple: [{ id: 56783, data: { utime: ... }}, { id: 46573, data: { utime: ... }}, { id: 13251, data: {utime: ... }}]
    }
  */
});
```
